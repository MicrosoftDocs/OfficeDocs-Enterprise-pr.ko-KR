---
title: IdFix 도구를 사용하여 Office 365와의 동기화를 위한 디렉터리 특성 준비
ms.author: josephd
author: JoeDavies-MSFT
manager: laurawi
audience: Admin
ms.topic: article
ms.service: o365-administration
localization_priority: Normal
ms.custom: Adm_O365
ms.collection:
- Ent_O365
- M365-identity-device-management
search.appverid:
- MET150
- MOE150
ms.assetid: 497593cf-24c6-491c-940b-7c86dcde9de0
description: Office 365와 동기화 하기 전에 IdFix를 사용 하 여 온-프레미스 디렉터리를 준비 하 고 정리 하는 방법에 대해 설명 합니다.
ms.openlocfilehash: 623dc38290b44dd69644b24f7640b0d49bcd7722
ms.sourcegitcommit: a9804062071939b7b7e60da5b69f484ce1d34ff8
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/04/2019
ms.locfileid: "39814616"
---
# <a name="prepare-directory-attributes-for-synchronization-with-office-365-by-using-the-idfix-tool"></a>IdFix 도구를 사용하여 Office 365와의 동기화를 위한 디렉터리 특성 준비

*이 문서는 Microsoft 365 Enterprise와 Office 365 Enterprise에 모두 적용됩니다.*

이 항목에는 IdFix 도구 실행에 대 한 자세한 지침, 발생할 수 있는 몇 가지 일반적인 오류, 제안 되는 수정 작업, 예제 및 많은 오류가 발생 했을 때 수행 해야 하는 상황에 대 한 모범 사례가 포함 되어 있습니다.
  
## <a name="fixing-errors-in-your-directory-by-using-the-idfix-gui"></a>IdFix GUI를 사용 하 여 디렉터리의 오류 수정

[Office 365 IdFix 도구를 실행](install-and-run-idfix.md) 하 여 디렉터리에서 문제를 검색 한 다음이 항목에 설명 된 대로 GUI에서 오류를 수정 합니다. 도구에서 빈 테이블을 반환 하면 오류가 발견 되지 않습니다. 디렉터리에 문제가 많은 경우에는 도구에서 오류를 반환 하는 것이 어려울 수 있습니다. 이 문제를 해결 하는 한 가지 방법은 먼저 한 유형의 오류를 모두 수정한 후 다음 형식으로 이동 하는 것입니다. 
  
1. 변경 작업을 시작 하기 전에 IdFix에서 제공 하는 권장 사항을 확인 하세요.
    
2. IdFix에서 반환한 오류 목록을 확인 합니다. 오류 유형을 나열 하는 열 맨 위에 있는 **오류** 를 클릭 하 여 오류 유형별로 오류를 정렬할 수 있습니다. 두 개 이상의 오류가 하나의 특성에 연결 된 경우 오류가 한 행으로 결합 됩니다. 가능한 경우 IdFix에서는 **업데이트** 열에 수정 사항에 대 한 권장 사항을 제공 합니다. 이 수정 프로그램은 개체와 연결 된 다른 특성의 확인을 기반으로 합니다. 이러한 작업은 대개 디렉터리에 있는 것 보다 더 좋지만 실제로 정확한 지를 결정할 수 있습니다. 
    
3. IdFix에 중복 오류에 대 한 수정 제안이 있으면 **업데이트** 열의 값 시작 부분에 있는 세 개의 플래그 중 하나로 수정이 식별 됩니다 `[E]john.doe@contoso.com`. 추천 단어를 수락한 경우 변경 내용을 적용 하면 플래그가 디렉터리에 삽입 되지 않습니다. 예를 들어 추천 플래그 다음에 있는 값만 적용 됩니다 `john.doe@contoso.com`. 제안 사항을 수락 하려면 **작업** 열에서 일치 작업을 선택 합니다. 플래그는 다음과 같은 동작을 나타냅니다. 
    
 - **[C]** 제안 된 작업이 **완료**되었습니다. 값을 편집할 필요는 없습니다.
    
 - **[E]** 권장 작업 **편집** 디렉터리의 다른 값과 충돌 하지 않도록 값을 변경 해야 합니다.
    
 - **[R]** 제안 된 작업 **제거**입니다. 이 값은 메일 사용이 가능 하지 않은 개체의 SMTP 프록시 이며 안전 하 게 제거할 수 있습니다.
    
4. 오류를 읽고 이해 한 후에는 변경 내용으로 **업데이트** 열의 항목을 업데이트 한 다음 **작업** 열에서 idfix에서 변경 사항을 구현 하기 위해 수행할 작업을 선택 합니다. 예를 들어 두 명의 사용자는 중복 `proxyAddress` 으로 식별 된 것으로 표시 될 수 있습니다. 한 명의 사용자만 메일 배달을 `proxyAddress` 위해를 사용할 수 있습니다. 이 문제를 해결 하려면 사용자에 대해 올바른 값을 사용 하 여 **작업** 열을 **완료** 로 표시 하 고 다른 사용자에 대해 **작업** 열 **제거** 를 표시 합니다. 이렇게 하면 사용자 `proxyAddress` 에 게 이러한 `proxyAddress` 특성이 포함 되지 않으며 사용자 `proxyAddress` 가 해당 특성을 변경할 수 없게 됩니다.
    
## <a name="common-errors-and-fixes-detected-by-idfix"></a>IdFix에서 검색 하는 일반적인 오류 및 수정 사항
다음 표에서는 IdFix에서 검색 되는 오류에 대해 설명 하 고 도구에서 가장 일반적으로 제안 되는 수정 방법을 제공 하며, 경우에 따라 수정 방법의 예를 제공 합니다.

|**오류**|**오류 유형 설명**|**제안 되는 수정 방법**|**예**|
|:-----|:-----|:-----|:-----|
|**문자와** | 잘못 된 문자가 있습니다. 값이 잘못 된 문자를 포함 하는 경우 | **업데이트** 열에 표시 되는 오류에 대 한 제안 수정 사항에는 잘못 된 문자가 제거 된 값이 표시 됩니다.  <br/> | 유효한 메일 주소의 끝에 있는 후행 공백은 다음과 같이 잘못 된 문자입니다.  <br/> " `user@contoso.com` "  <br/> 유효한 메일 주소 앞에 오는 공백이 잘못 된 문자입니다.  <br/> " ` user@contoso.com `"  <br/>  `ú` 문자가 잘못 된 문자입니다. |
|**복제** | 항목을 중복 합니다. 값이 쿼리 범위 내에 중복 됩니다. 중복 된 값은 모두 오류로 표시 됩니다. | 값을 편집 하거나 제거 하 여 중복을 제거 합니다. 이 도구는 중복에 대 한 제안 된 수정 프로그램을 제공 하지 않습니다. 대신 두 개 이상의 중복 항목 중 하나를 선택 하 고 중복 항목이 나 항목을 삭제 해야 합니다. ||
|**형식일** | 서식 오류입니다. 이 값은 특성 사용에 대 한 형식 요구 사항을 위반 합니다. | 제안 된 업데이트에는 잘못 된 문자가 제거 된 값이 표시 됩니다. 잘못 된 문자가 없으면 업데이트와 값이 동일 하 게 표시 됩니다. 업데이트에서 실제로 수행 하려는 작업을 결정 해야 합니다. 이 도구는 모든 서식 오류에 대 한 제안 된 수정 프로그램을 제공 하지 않습니다. | 예를 들어 SMTP 주소는 RFC 2822를 준수 해야 하 고 mailNickName는 마침표로 시작 하거나 끝날 수 없습니다. 디렉터리 특성에 대 한 형식 요구 사항에 대 한 자세한 내용은 [Prepare to a directory synchronization To Office 365를](prepare-for-directory-synchronization.md)참조 하십시오. |
|topleveldomain  <br/> |최상위 도메인 이는 [RFC 2822](https://go.microsoft.com/fwlink/p/?LinkId=401464) 형식을 따르는 값에 적용 됩니다. 최상위 도메인이 인터넷에 연결할 수 없는 경우이는 오류로 식별 됩니다. 예를 들어로 끝나는 SMTP 주소는 인터넷에서 라우팅할 수 없으며이 오류를 발생 시킵니다. |값을 인터넷 라우팅할 수 있는 도메인 ( `.com` 예: 또는 `.net`)으로 변경 합니다. | 다른 `myaddress@fourthcoffee.local` 인터넷 `fourthcoffee.com` 라우팅 가능한 도메인으로 변경 합니다.  <br/> 자세한 내용은 [디렉터리 동기화를 위해 라우팅할 수 없는 도메인 (예: 로컬 도메인)을 준비 하는 방법을](prepare-a-non-routable-domain-for-directory-synchronization.md)참조 하십시오. |
|**domainpart** | 도메인 부분 오류입니다. 이는 RFC 2822 형식을 따르는 값에 적용 됩니다. 값의 도메인 부분이 유효 하지 않고 RFC 2822을 따르지 않는 경우이는 생성 됩니다. | RFC 2822을 준수 하는 값으로 변경 합니다. 예를 들어, 공백이 나 잘못 된 문자를 포함 하지 않는지 확인 합니다. | 로 `myaddress@fourth coffee.com` `myaddress@fourthcoffee.com`변경 됩니다. |
|**domainpart_localpart** | 로컬 부분 오류입니다. 이는 RFC 2822 형식을 따르는 값에 적용 됩니다. 값의 로컬 부분이 유효 하지 않고 RFC 2822을 준수 하지 않는 경우이는 생성 됩니다. |RFC 2822을 준수 하는 값으로 변경 합니다. 예를 들어, 공백이 나 잘못 된 문자를 포함 하지 않는지 확인 합니다. |로 `my"work"address@fourthcoffee.com` `myworkaddress@fourthcoffee.com`변경 됩니다. |
|**content-length** | 길이 오류입니다. 값이 특성의 길이 제한을 위반 합니다. 이는 디렉터리 스키마가 변경 된 경우에 가장 일반적으로 발생 합니다.  | IdFix에서 제안 하는 업데이트는 해당 값을 허용 되는 길이로 자릅니다.  <br/> 이렇게 하면 원치 않는 결과가 발생할 수 있습니다. **적용**을 클릭 하기 전에 제안 된 수정 프로그램을 검토 하 고 필요에 따라 변경 해야 합니다. ||
|**채로**  | 공백 또는 null 오류입니다. 동기화 할 특성에 대 한 null 제한을 위반 하는 값입니다. 몇몇 특성만 값을 포함 해야 합니다. | 가능한 경우 제안 되는 업데이트는 다른 특성 값을 활용 하 여 가능성이 높은 대체를 생성 합니다. ||
|**mailmatch** | 이는 Office 365 전용에만 적용 됩니다. 값이 메일 특성과 일치 하지 않습니다. | 제안 되는 업데이트는 "SMTP:" 접두사가 붙은 메일 특성 값이 됩니다. ||
    
## <a name="operations-you-can-perform-by-using-idfix"></a>IdFix를 사용 하 여 수행할 수 있는 작업
오류를 수정 하려면 **작업** 드롭다운 목록에서 옵션을 선택 합니다. 다음 표에는 IdFix 도구를 사용 하 여 특성에 대해 수행할 수 있는 **작업** 에 대 한 설명이 나와 있습니다. **ACTION** 열을 비워 두면 idfix 도구는 디렉터리에서 해당 특정 오류에 대 한 어떠한 작업도 수행 하지 않습니다. 

|**동작은**|**작업 설명**|**예**|
|:-----|:-----|:-----|
|**작업이** | 원래 값을 사용할 수 있으며 오류로 식별 되더라도 변경 하지 않아야 합니다. | 두 사용자에 게는 proxyAddress가 중복으로 식별 됩니다. 한 명만 메일 배달에 대 한 값을 사용할 수 있습니다. 사용자에 게 올바른 값이 **완료**된 것으로 표시 합니다. |
|**제거** | 특성 값이 원본 개체에서 삭제 됩니다. 예 `proxyAddresses`를 들어 다중값 특성의 경우에는 표시 된 개별 값만 삭제 됩니다. | 두 사용자에 게는 proxyAddress가 중복으로 식별 됩니다. 한 명만 메일 배달에 대 한 값을 사용할 수 있습니다. 사용자에 게 중복 값을 **제거**합니다 .를 표시 합니다. |
|**수정할** | **업데이트** 열의 정보는 특성 값을 수정 하는 데 사용 됩니다. IdFix에서 유효한 **업데이트** 값을 제안한 경우 **작업** 열에서 **편집** 을 선택 하 고 다음 오류로 이동 합니다. 추천 단어가 마음에 들지 않으면 **업데이트** 열에 새 항목을 입력 한 다음 **작업** 열에서 **편집**을 선택 합니다. ||
|**실행** | 이 옵션은 트랜잭션 로그에서 복원한 경우에만 사용할 수 있습니다. **실행 취소**를 선택 하면 특성 값이 원래 값으로 복원 됩니다. ||
|**FAIL** | 이 값은 **업데이트** 값에 AD DS 규칙과 관련 된 알 수 없는 충돌이 있는 경우에만 반환 됩니다. 이 경우 오류를 알고 있으면 **업데이트** 열의 값을 다시 편집할 수 있습니다. ADSI 편집을 사용 하 여 개체의 값을 분석 해야 할 수도 있습니다. 자세한 내용은 [ADSI 편집 (adsiedit)](https://go.microsoft.com/fwlink/p/?LinkId=401170)을 참조 하십시오. ||

오류가 발생 한 **동작이** 나 오류를 일괄적으로 선택한 후 **적용**을 클릭 합니다. **적용**을 클릭 하면 도구에서 디렉터리를 변경 합니다. **Apply** 를 클릭 하기 전에 여러 오류에 대 한 수정 내용을 제공 하 고 idfix에서이를 모두 동시에 변경할 수 있습니다.

IdFix를 다시 실행 하 여 수정한 내용에 새 오류가 발생 하지 않았는지 확인 합니다. 필요한 횟수 만큼 이러한 단계를 반복할 수 있습니다. 동기화 하기 전에 몇 번까지 프로세스를 진행 하는 것이 좋습니다.
    
## <a name="changing-the-rule-set-used-by-idfix"></a>IdFix에서 사용 되는 규칙 집합 변경
기본적으로 IdFix에서는 다중 테 넌 트 규칙 집합을 사용 하 여 디렉터리의 항목을 테스트 합니다. 이는 대부분의 Office 365 = 고객에 게 적합 한 적절 한 규칙 집합입니다. 그러나 Office 365 전용 또는 ITAR (Arm 규정의 해외 트래픽) 고객의 경우에는 대신 전용 규칙 집합을 사용 하도록 IdFix를 구성할 수 있습니다. 어떤 종류의 고객 인지 잘 모르는 경우이 단계를 무시 해도 됩니다. 규칙 집합을 전용으로 설정 하려면 메뉴 모음에서 톱니 바퀴 아이콘을 클릭 한 다음 **전용**을 클릭 합니다.
  
## <a name="changing-the-scope-of-the-search-used-by-idfix"></a>IdFix에서 사용 하는 검색 범위 변경
기본적으로 IdFix는 전체 디렉터리를 검색 합니다. 원하는 경우에는 특정 하위 트리를 대신 검색 하도록이 도구를 구성할 수 있습니다. 이렇게 하려면 메뉴 모음에서 필터 아이콘을 클릭 하 고 유효한 하위 트리를 입력 합니다.
  
## <a name="rolling-back-your-changes-by-using-the-idfix-gui"></a>IdFix GUI를 사용 하 여 변경 내용 롤백
**적용** 을 클릭 하 여 변경 내용을 적용 하면 idfix 도구가 방금 수행한 변경 내용을 나열 하는 트랜잭션 로그 라는 별도의 파일을 만듭니다. 실수로 작업을 수행 하는 경우 트랜잭션 로그를 사용 하 여 가장 최근 로그에 있는 변경 내용만 롤백할 수 있습니다. 업데이트 하는 동안 실수를 한 경우 **실행 취소**를 클릭 하 여 가장 최근에 적용 한 변경 내용을 취소할 수 있습니다. **실행 취소**를 클릭 하면 idfix는 트랜잭션 로그를 사용 하 여 가장 최근 트랜잭션 로그에 있는 변경 내용만 롤백합니다. 트랜잭션 로그를 사용 하는 방법에 대 한 자세한 내용은 [Reference: Office 365 IdFix transaction log](idfix-transaction-log.md)를 참조 하십시오.

## <a name="next-step"></a>다음 단계

[디렉터리 동기화 설정](set-up-directory-synchronization.md)
